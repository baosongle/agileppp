# AgilePPP 薪水支付系统的实现

第 18 章开始了薪水支付系统的设计工作，主要需要理解如何做抽象

抽象的关键在于找出系统中相同和不同的地方。比如薪水支付系统中有各种各样的雇员，每种雇员的获取薪水的时间、薪水的支付方式、薪水的金额计算都是不同的，因此可以对这两点各做一个抽象。对于领取时间，做出一个抽象类 `PaymentSchedule` ，仅包含判断当天是否是雇员领取薪水的时间。对于领取方式，做出一个抽象类 `PaymentMethod` 。对于薪水金额的计算方式，做出抽象类 `PaymentClassification`

`Employee` 类包含指向这三个抽象类的指针，这就是组合。违反 OCP 和 SRP 的解决方法是让一个类同时继承 `PaymentSchedule` 和 `PaymentClassification` ，让一个类包含两个方法，容易使得两个方法相互影响而导致 bug

我觉得各种各样的设计模式的最终目的都是让代码易于理解、易于修改。为了达到这两点，我们想尽各种办法让类和方法的代码量更少，比如让类只做一件事、让方法只做一件事；比如抽象出一个接口然后让不同的行为分散在各自的代码文件中（抽象出接口的另一个意义在于强调达成一个目的有各种不同的办法）；为设计模式命名以成为开发者口中的黑话。。。